#:import WeatherWidget smart_house_ui.WeatherWidget

<Sidebar@RelativeLayout>:
    size_hint: None, None
    size: 64, 417
    pos: 0, (480 - 417) / 2

    Image:
        size_hint: None, None
        pos: 0, 417 - 428
        size: 99, 428
        source: 'static/sidebar.png'

    #canvas:
    #    Rectangle:
    #        size: self.size
    #        pos: 0, 0


<WeatherPanel@WeatherWidget>:
    size_hint: None, None
    size: 321, 199
    pos: 0, 199 + 20

    Image:
        size_hint: None, None
        source: 'static/panel.png'
        pos: 0, -11
        size: 330, 210

<MusicPanel@WeatherWidget>:
    size_hint: None, None
    size: 321, 199
    pos: 321 + 20, 199 + 20

    Image:
        size_hint: None, None
        source: 'static/panel.png'
        pos: 0, -11
        size: 330, 210


<CalendarPanel@WeatherWidget>:
    size_hint: None, None
    size: 321, 199
    pos: 321 + 20, 0

    Image:
        size_hint: None, None
        source: 'static/panel.png'
        pos: 0, -11
        size: 330, 210


<OneMorePanel@WeatherWidget>:
    size_hint: None, None
    size: 321, 199
    pos: 0, 0

    Image:
        size_hint: None, None
        source: 'static/panel.png'
        pos: 0, -11
        size: 330, 210

<Panels@RelativeLayout>:
    size_hint: None, None
    size: 800 - 64 - 37 * 2 , 417
    pos: 64 + 37, (480 - 417) / 2

    weather_panel: weather_panel
    music_panel: music_panel
    calendar_panel: calendar_panel

    WeatherPanel:
        id: weather_panel

    MusicPanel:
        id: music_panel

    CalendarPanel:
        id: calendar_panel

    OneMorePanel:
        id: one_more_panel


<MainScreen>:
    FloatLayout:
        size: self.parent.size
        pos: self.parent.pos

        Image:
            source: 'static/background.png'
            size: self.size
            pos: self.pos

        Sidebar:
            id: sidebar

        Panels:
            id: panels

        #Button:
        #    size_hint: 0.1, 0.1
        #    pos_hint: {'x':0, 'y':0}
        #    text: 'Settings'
        #    #on_press:
        #    #    root.manager.transition.direction = 'left'
        #    #    root.manager.current = 'settings'

        #Button:
        #    size_hint: 0.1, 0.1
        #    pos_hint: {'x':0.9, 'y':0}
        #    text: 'Quit'

<SettingsScreen>:
    update_btn: update_btn
    sensors_update_btn: sensors_update_btn

    FloatLayout:
        size: self.parent.size
        pos: self.parent.pos

        canvas:
            Color:
                rgb: 0, 0, 0
            Rectangle:
                pos: self.pos
                size: self.size

        Button:
            id: sensors_update_btn
            size_hint: 0.9, 0.15
            pos_hint: {'x':0.05, 'y':0.35}
            text: 'Update Sensors'

        Button:
            id: update_btn
            size_hint: 0.9, 0.15
            pos_hint: {'x':0.05, 'y':0.15}
            text: 'Update System'

        Button:
            text: 'Back'
            size_hint: 0.1, 0.1
            pos_hint: {'x':0, 'y':0}
            on_press:
                root.manager.transition.direction = 'right'
                root.manager.current = 'main'
